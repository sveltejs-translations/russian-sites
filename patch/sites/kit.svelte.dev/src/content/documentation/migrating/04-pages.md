---
title: Страницы и макеты
---

### Переименованные файлы

Компонент настраиваемой страницы ошибки следует переименовать из `_error.svelte` в `__error.svelte`. Любые `_layout.svelte` файлы также должны быть переименованы в `__layout.svelte`. Префикс `_` теперь обозначает исключительно ваши _собственные_ 'приватные' компоненты и модули, в отличие от тех, которые имеют особое значение для SvelteKit.

### Импорты

Импорт `goto`, `prefetch` и `prefetchRoutes` из `@sapper/app` следует заменить идентичным импортом из [`$app/navigation`](/docs#moduli-$app-navigation).

Импорт `stores` из `@sapper/app` следует тоже заменить — подробнее в разделе [Хранилища](#straniczy-i-makety-hranilishha).

Любые файлы, которые вы ранее импортировали из каталогов в `src/node_modules` необходимо будет заменить на импорты из [`$lib`](/docs#moduli-$lib).

### Предварительная загрузка

Как и раньше, страницы и компоненты макета могут экспортировать функцию, которая позволяет загружать данные перед отрисовкой.

Эта функция была переименована из `preload` в [`load`](/docs#zagruzka-dannyh), и её API изменился. Вместо двух аргументов `page` и `session` функция теперь получает один объект, который включает в себя оба этих аргумента и функцию `fetch` (которая заменяет `this.fetch`), а так же новый объект `stuff`.

Больше нет объекта `this` и, следовательно, нет `this.fetch`, `this.error` или `this.redirect`. Вместо возвращения свойств напрямую, функция `load` теперь возвращает объект, который _содержит_ поле `props` среди прочих.

Если на вашей странице есть метод `load` не забудьте вернуть что-нибудь из него, иначе вы получите ошибку `Not found`.

### Хранилища

В Sapper вы получали ссылки на встроенные хранилища, таким образом:

```js
import { stores } from '@sapper/app';
const { preloading, page, session } = stores();
```

Хранилища `page` и `session` всё ещё существуют; `preloading` был заменен на `navigating` который содержит свойства `from` и `to`.

В SvelteKit вы получаете к ним доступ по-другому. `stores` теперь называется `getStores`, но в большинстве случаев в этом нет необходимости, поскольку вы можете импортировать `navigating`, `page` и `session` прямо из [`$app/stores`](/docs#moduli-$app-stores).

### Атрибуты ссылок

- `sapper:prefetch` => `sveltekit:prefetch`
- `sapper:noscroll` => `sveltekit:noscroll`