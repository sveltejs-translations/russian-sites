---
title: Создание пакетов
---

Кроме web-приложений SvelteKit можно использовать также и для создания библиотек компонентов.

При создании приложения, содержимое папки `src/routes` является его основой. А папка [`src/lib`](#moduli-$lib) просто хранит файлы ваших внутренних библиотек.

Библиотека компонентов в SvelteKit имеет точно такую же структуру папок, но `src/lib` становится основой библиотеки, а `src/routes`может быть использована для документации или демо-сайта, показывающего работу библиотеки. Также можно использовать эту папку как "песочницу" во время разработки компонента.

Запуск команды `svelte-kit package` сгенерирует пакет в новой папке `package` (которую можно [настроить](#konfiguracziya-package)), содержащий следующие файлы:

- Все файлы из папки `src/lib`, если вы не [укажете](#konfiguracziya-package) свои параметры `include`/`exclude`. Компоненты Svelte будут предварительно обработаны, файлы TypeScript будут преобразованы в JavaScript.
- Определения типов (файлы`d.ts`), которые генерируются для файлов Svelte, JavaScript и TypeScript. Для этого вам нужно установить `typescript >= 4.0.0` и `svelte2tsx >= 0.4.1`. Определения типов размещаются рядом с их реализацией, рукописные файлы `d.ts` копируются как есть.
- Файл `package.json`, в который будут скопированы поля `name`, `version`, `description`, `keywords`, `homepage`, `bugs`, `license`, `author`, `contributors`, `funding`, `repository`, `dependencies`, `private` и `publishConfig` из корня проекта, а также добавлены поля `"type": "module"` и `"exports"`.

Поле `"exports"` содержит файлы, которые предоставляет модуль. По умолчанию сюда попадут все файлы из папки`src/lib`, только если их имя(или имя папки, в которых они содержатся) не начинаются с символа нижнего подчёркивания. Это поведение можно [изменить](#konfiguracziya-package). Если имеются файлы `src/lib/index.js` или `src/lib/index.svelte`, то они станут  корнем пакета.

Например, если имеется компонент `src/lib/Foo.svelte` и модуль `src/lib/index.js`, который реэкспортирует его, то пользователь вашего пакета сможет импортировать компонент любым из двух способов:

```js
import { Foo } from 'your-library';
```

```js
import Foo from 'your-library/Foo.svelte';
```

### Публикация

Для публикации полученного пакета выполните команду:

```
npm publish package
```
Приведенный выше `package` относится к сгенерированному имени каталога, измените его соответствующим образом, если вы настраиваете собственный [`package.dir`](#konfiguracziya-package). Если у вас возникли проблемы с публикацией пакета, который вам не принадлежит, добавьте в конце косую черту (например, `package/`).

### Ограничения

Это относительно экспериментальная функция, которая еще не полностью реализована. Все файлы, кроме файлов Svelte (предварительно обработанных) и файлов TypeScript (переработанных в JavaScript), копируются как есть.
