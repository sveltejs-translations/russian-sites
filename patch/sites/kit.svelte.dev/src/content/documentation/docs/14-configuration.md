---
title: Конфигурация
---

Конфигурация проекта находится в файле `svelte.config.js`. Все значения не обязательны. Полный список параметров со значениями по умолчанию показан здесь:

```js
/** @type {import('@sveltejs/kit').Config} */
const config = {
	// параметры для svelte.compile (https://svelte.dev/docs#svelte_compile)
	compilerOptions: null,

	// массив расширений, которые будут считаться компонентами Svelte
	extensions: ['.svelte'],

	kit: {
		adapter: null,
		amp: false,
		appDir: '_app',
		files: {
			assets: 'static',
			hooks: 'src/hooks',
			lib: 'src/lib',
			routes: 'src/routes',
			serviceWorker: 'src/service-worker',
			template: 'src/app.html'
		},
		floc: false,
		host: null,
		hostHeader: null,
		hydrate: true,
		package: {
 			dir: 'package',
 			exports: {
 				include: ['**'],
 				exclude: ['_*', '**/_*']
 			},
 			files: {
 				include: ['**'],
 				exclude: []
 			},
 			emitTypes: true
 		},
		paths: {
			assets: '',
			base: ''
		},
		prerender: {
			crawl: true,
			enabled: true,
			onError: 'fail',
			pages: ['*']
		},
		router: true,
		serviceWorker: {
 			exclude: []
 		},
		ssr: true,
		target: null,
		trailingSlash: 'never',
		vite: () => ({})
	},

	// параметры для svelte.preprocess (https://svelte.dev/docs#svelte_preprocess)
	preprocess: null
};

export default config;
```

### adapter

Требуется при запуске `svelte-kit build` и определяет, как преобразуется вывод для разных платформ. См. [Адаптеры](#adaptery).

### amp

Включить режим [AMP](#amp).

### appDir

Директория относительно `paths.assets` в которой будут находиться скомпилированные JS/CSS файлы и импортированные статические ресурсы. Имена файлов в этой директории будут содержать хеши на основе их содержимого, то есть эти файлы можно кэшировать на неопределённый срок. Не должно начинаться или заканчиваться на `/`.

### files

Объект, содержащий следующие строковые параметры(все опциональны):

- `assets` — место для размещения статических файлов, которые должны иметь стабильные URL-адреса и не подвергаться обработке, например `favicon.ico` и `manifest.json`
- `hooks` — путь к файлу хуков (см. [Хуки](#huki))
- `lib` — внутренняя библиотека вашего приложения, доступная во всей кодовой базе как `$lib`
- `routes` — файлы, которые определяют структуру вашего приложения ([Маршруты](#marshruty))
- `serviceWorker` — точка входа [сервис-воркера](#servis-vorkery)
- `template` — расположение шаблона для HTML-ответов сервера


### floc

Google [FLoC](https://github.com/WICG/floc) — это технология таргетированной рекламы, которую [Electronic Frontier Foundation](https://www.eff.org/) сочла [вредной](https://www.eff.org/deeplinks/2021/03/googles-floc-terrible-idea) для конфиденциальности пользователей. [Браузеры, отличные от Chrome](https://www.theverge.com/2021/4/16/22387492/google-floc-ad-tech-privacy-browsers-brave-vivaldi-edge-mozilla-chrome-safari) отказались её реализовать.

SvelteKit по умолчанию отключает использование FLoC в вашем приложении, также как это делают другие сервисы, например [GitHub Pages](https://github.blog/changelog/2021-04-27-github-pages-permissions-policy-interest-cohort-header-added-to-all-pages-sites/ ). Если для параметра `floc` не установлено значение `true`, к ответу сервера будет добавлен такой заголовок:

``` 
Permissions-Policy: Interest-cohort = () 
```

> Это может применяться только при серверном рендеринге — заголовки для предварительно отрисованных страниц (например, созданных с помощью [adapter-static](https://github.com/sveltejs/kit/tree/master/packages/adapter-static)) определяются платформой хостинга.


### host

Строка, которая переопределяет заголовок `Host` при формировании значения `page.host`

### hostHeader

Если ваше приложение находится за обратным прокси-сервером (например, используются балансировщики нагрузки или CDN), тогда заголовок `Host` не будет верным. В таких случаях реальный хост указывается в заголовке [`X-Forwarded-Host`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-Host) и, если в приложении вы хотите иметь доступ к `page.host`, то необходимо указать в настройках нужный заголовок:

```js
// svelte.config.js
export default {
	kit: {
		hostHeader: 'X-Forwarded-Host'
	}
};
```

**Это следует делать только в том случае, если вы доверяете обратному прокси-серверу,** – вот почему этот параметр не указан по умолчанию.

### hydrate

Указывает, нужно ли гидрировать [гидрировать](#ssr-i-javascript-hydrate) полученный с сервера HTML клиентской частью приложения. Устанавливайте этот параметр в `false` только в исключительных случаях.


### package

Опции, связанные с [созданием пакетов](#sozdanie-paketov).

- `dir` - выходной каталог
- `exports` - содержит массив `includes` и `excludes`, который определяет, какие файлы пометить как экспортированные из поля `exports` `package.json`
- `files` - содержит массив `includes` и `excludes`, который определяет, какие файлы обрабатывать и копировать при упаковке
- `emitTypes` - по умолчанию `svelte-kit package` автоматически сгенерирует типы для вашего пакета в виде файлов `d.ts.`. Хотя генерация типов настраивается, мы считаем, что для качества экосистемы всегда надо генерировать типы. Пожалуйста, убедитесь, что у вас есть веская причина установливать значение `false` (например, если вместо этого вы хотите предоставить рукописные определения типов).


### paths

Объект, содержащий следующие строковые параметры(все опциональны):

- `assets` — абсолютный путь, откуда будут загружаться статические файлы вашего приложения. Это может быть полезно в случае, когда эти файлы находятся в каком-либо внешнем хранилище.
- `base` — путь относительно корня, который должен начинаться, но не заканчиваться на `/` (например, `/base-path`). Указывает, где будет находиться приложение и позволяет запускать приложение из поддиректории основного домена.


### prerender

См. [Пререндер](#ssr-i-javascript-prerender). Объект, содержащий следующие параметры(все опциональны):

- `crawl` — определяет, должен ли SvelteKit находить страницы для предварительной отрисовки, переходя по ссылкам с исходных страниц
- `enabled` — установите в `false`, чтобы полностью отключить пререндер
- `onError`

   - `'fail'` — (по умолчанию) прерывает сборку при обнаружении ошибки маршрутизации при переходе по ссылке
   - `'continue'` — позволяет продолжить сборку, несмотря на ошибки маршрутизации
   - `function` — пользовательский обработчик ошибок, позволяющий регистрировать, `throw` и ошибки сборки или предпринимать другие действия по вашему выбору на основе деталей обхода содержимого

     ```ts
     /** @type {import('@sveltejs/kit').PrerenderErrorHandler} */
     const handleError = ({ status, path, referrer, referenceType }) => {
     	if (path.startsWith('/blog')) throw new Error('Missing a blog page!');
     	console.warn(`${status} ${path}${referrer ? ` (${referenceType} from ${referrer})` : ''}`);
     };

     export default {
     	kit: {
     		adapter: static(),
     		target: '#svelte',
     		prerender: {
     			onError: handleError
     		}
     	}
     };
     ```

- `pages` — массив страниц для предварительной отрисовки или начала сканирования (при `crawl: true`). Строка `*` включает все нединамические маршруты (т.е. страницы без `[параметров]`)


### router

Включает или отключает клиентский [роутер](#ssr-i-javascript-router) в приложении.


### serviceWorker

Объект, содержащий ноль или более из следующих значений:

- `exclude` - массив шаблонов glob относительно папки `files.assets`. Файлы, соответствующие любому из них, не будут доступны в `$service-worker.files`, например, если `files.assets` имеет значение `static`, то ['og-tags-images/**/*'] будет соответствовать всем файлам в папке `static/og-tags-images`.


### ssr

Включает или отключает [отрисовку на стороне сервера](#ssr-i-javascript-ssr)(SSR) для всего приложения.


### target

Задаёт элемент, в который будет смонтировано приложение. Это должен быть DOM-селектор, который идентифицирует элемент, существующий в вашем файле шаблона. Если значения не указано, приложение будет смонтировано в `document.body`.

### trailingSlash

 Следует ли удалять, добавлять или игнорировать завершающие слэши при разрешении URL-адресов в маршруты.

 - `"never"` - перенаправит `/x/` на `/x`
 - `"always"` - перенаправит `/x` на `/x/`
 - `"ignore"`- не добавлять/удалять завершающие слэши автоматически. `/x` и `/x/` будут рассматриваться эквивалентно

> Игнорировать завершающие слэши не рекомендуется — семантика относительных путей в двух случаях различается (`./y` от `/x` равно `/y`, а от `/x/` это `/x/y`) , а также `/x` и `/x/` рассматриваются как отдельные URL-адреса, что вредно для SEO. Если вы используете эту опцию, убедитесь, что вы реализовали логику для условного добавления или удаления завершающих слэшей из `request.path` внутри вашей функции [`handle`](/docs#huki-handle).


### vite

[Объект конфигурации Vite](https://vitejs.dev/config), или функция, которая его возвращает. Не все параметры конфигурации могут быть установлены, поскольку SvelteKit зависит от определённых значений, настраиваемых внутри.
